
### EKF推导

基于Euler的一阶方法，并没有使用mid-value
并且这里进一步简化，没有考虑地球模型

状态量是

$\phi$ 旋转矢量
$v$  速度
$p$  位置
$b_g$ 陀螺仪Bias
$b_a$ 加速度计Bias
$w$ 陀螺仪输出的测量值
$a$ 加速度计的测量值
$n_w$ 陀螺仪的测量噪声
$n_a$ 加速度计的测量噪声
$n_z$ GPS或者Laser 的观测误差
$\hat{}$ 表示类似期望值

首先从$\phi$的推导开始
$$
    \phi_{k+1} = In[Exp(\phi_k)Exp(\omega_k-b_{gk}+n_w)\Delta t] = f(\phi_k,b_{gk},n_w)
$$
线性化部分
$$
    \phi_{k+1} = f_0(\hat{\phi_k},\hat{b_{kg}},0) \\+ J_{\phi_k}(\phi_k-\hat{\phi_k})\\+J_{b_{gk}}(b_{gk} - \hat{b_{gk}})\\+ J_{n_w}(n_{w} - \hat{n_{w}})
$$

